<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üíö Formulaire</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    :root {
      --bg: #f8fafc;
      --accent: green;
      --shadow: 0 4px 12px rgba(0,0,0,0.08);
      --radius: 12px;
      --max-width: 700px; /* largeur uniforme pour cartes et bouton */
    }

    body {
      margin: 0;
      font-family: "Inter", Arial, sans-serif;
      background: var(--bg);
      color: #111;
      line-height: 1.2;
    }

    /* Bouton retour */
    .top-btn {
      position: sticky;
      top: 0;
      z-index: 100;
      display: block;
      margin: 0 auto 16px auto;
      padding: 10px;
      font-size: 1rem;
      font-weight: 600;
      background: #fff;
      color: var(--accent);
      text-decoration: none;
      border: 1px solid var(--accent);
      border-radius: var(--radius);
      text-align: center;
      transition: background 0.3s, transform 0.2s;
      width: var(--max-width);
      max-width: 80%;
    }
 
    .top-btn::before {
      content: "‚Üê";
      color: #fff; /* fl√®che blanche */
      -webkit-text-stroke: 1px var(--accent); /* contour */
      margin-right: 8px;
      font-size: 1.2em;
    }

    /* Conteneur */
    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 16px;
      padding: 12px;
    }

    /* Cartes pricing */
    .card {
      background: #fff;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 12px;
      text-align: center;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      animation: slideUp 0.6s ease;

      width: var(--max-width);
      max-width: 85%;
    }

    .card h2 {
      font-size: 1.4rem;
      margin: 0 0 4px 0;
      color: var(--accent);
    }

    .card h3 {
      font-size: 1rem;
      margin: 0 0 6px 0;
      color: #333;
    }

    .card p {
      color: #555;
      margin: 4px 0;
      font-size: 0.92rem;
      line-height: 1.3;
      word-wrap: break-word;
      overflow-wrap: break-word;
    }

    .cardt {
      background: #fff;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 12px;
      text-align: left;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      animation: slideUp 0.6s ease;

      width: var(--max-width);
      max-width: 85%;
    }

    @keyframes slideUp {
      from { transform: translateY(15px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    @media (max-width: 600px) {
      .top-btn {
        font-size: 0.9rem;
        padding: 8px;
      }
      .card h2 { font-size: 1.2rem; }
      .card h3 { font-size: 0.95rem; }
    }
    
    .form-group {
      margin-bottom: 15px;
    }
    label {
      display: block;
      margin-bottom: 5px;
      /* font-weight: bold; */
      line-height: 1.3;
    }
    input[type="text"],
    input[type="email"],
    textarea {
      width: 100%;
      padding: 8px;
      border: 1px solid #ddd;
      border-radius: 4px;
      box-sizing: border-box;
    }
    button {
      background-color: #4CAF50;
      color: white;
      padding: 10px 15px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    button:hover {
      background-color: #45a049;
    }

    ::placeholder {
      color: #999;
      opacity: 1; /* Firefox */
    }

    /* ===== TABLE FIXES: non-wrapping, smaller text, first column alignment, renumbering helper ===== */
    #customTable {
      border-collapse: collapse;
      width: 100%;
      min-width: 600px;
      font-family: Arial, sans-serif;
      /* smaller font for table */
      font-size: 12px;
      white-space: nowrap; /* prevent wrapping */
    }

    #customTable th,
    #customTable td {
      padding: 8px;
      vertical-align: top;
      white-space: nowrap;       /* no wrap */
      overflow: hidden;          /* needed for ellipsis */
      text-overflow: ellipsis;   /* show ... when truncated */
      font-size: 12px;
    }

    /* first column: left-justified by default (force with !important to beat other rules) */
    #customTable td:first-child {
      text-align: left !important;
      width: 5%;
    }

    /* header first column centered */
    #customTable thead th:first-child {
      text-align: center !important;
    }

    /* first data row's first column: center it (this is "row 1" exception) */
    #customTable tbody tr:first-child td:first-child {
      text-align: center !important;
    }

    /* hide visible <br> (we'll convert them to commas via JS for single-line display) */
    #customTable td br {
      display: none;
    }

    /* === TABLE FIX === */
#customTable {
  font-size: 8px !important;
  white-space: nowrap !important;
}

#customTable th {
  text-align: left !important;
  font-size: 8px !important;
}

#customTable td {
  text-align: left !important;
  font-size: 8px !important;
  white-space: nowrap !important;
  padding: 4px 6px !important;
  vertical-align: top;
}
    
  </style>
</head>
<body>

  <!-- Bouton retour -->
  <a href="c-deal.html" class="top-btn">Retour √† l'Offre</a>

  <div class="container">
    <div class="card">
      <h2>Commande</h2>
      <h3>Etapes :</h3>
      <p style="text-align: left;">1. Personnalisez le site<br>2. Envoyez 5 photos<br>3. Vous payez quand le site est termin√©</p>
    </div>

 <div class="card">
       <h2>Personnalisez</h2>
      <h3>2 m√©thodes au choix</h3>
 </div>
    
    <div class="card">
       <h2>M√©thode 1</h2>
           <p>T√©l√©chargez et remplissez la table</p>
     
<div style="max-width:700px;overflow-x:auto;border:1px solid #ccc;padding:12px;margin:20px 0;border-radius:10px;box-shadow:0 4px 12px rgba(0,0,0,0.05);">
  <table border="1" id="customTable">
    <thead style="text-align:left;background:#f5f5f5;">
      <tr>
        <th style="width:5%;">#</th>
        <th style="width:55%;">√âl√©ments √† personnaliser</th>
        <th style="width:40%;">Votre personnalisation</th>
      </tr>
    </thead>
    <tbody>
      <!-- Keep your content as-is; JS will renumber automatically -->
      <tr><td>1</td><td>Mon Commerce</td><td></td></tr>
      <tr><td>2</td><td>Ma Sp√©cialit√© ‚Äî Toulouse</td><td></td></tr>
      <tr><td>4</td><td>Produits et services de qualit√©, con√ßus avec passion et savoir-faire ‚Äî votre satisfaction au c≈ìur de notre engagement depuis 1907.</td><td></td></tr>
      <tr><td>5</td><td><a style="text-decoration:none;">contact@example.com</a></td><td></td></tr>
      <tr><td>6</td><td>Avis clients 1</td><td></td></tr>
      <tr><td>7</td><td>Avis clients 2</td><td></td></tr>
      <tr><td>8</td><td>Avis clients 3</td><td></td></tr>
      <tr><td>9</td><td>Avis clients 4</td><td></td></tr>
      <tr><td>10</td><td>Bienvenue dans ma boutique !</td><td></td></tr>
      <tr><td>12</td><td>Nous sommes ravis de vous accompagner et de r√©pondre √† vos besoins avec attention et professionnalisme.</td><td></td></tr>
      <tr><td>13</td><td>Horaires</td><td></td></tr>
      <tr><td>14</td><td>Ferm√© les jours f√©ri√©s ‚Äî Sp√©cialit√©s sur commande.</td><td></td></tr>
      <tr><td>15</td><td>Notre S√©lection</td><td></td></tr>
      <tr><td>19</td><td>Sp√©cialit√©s</td><td></td></tr>
      <tr><td>20</td><td>Choisissez vos favoris</td><td></td></tr>
      <tr><td>21</td><td>Nos Produits Phares<br>Produit classique, Produit complet, Produit traditionnel.</td><td></td></tr>
      <tr><td>22</td><td>Nos Sp√©cialit√©s<br>Sp√©cialit√© maison, Sp√©cialit√© populaire, Sp√©cialit√© artisanale.</td><td></td></tr>
      <tr><td>23</td><td>Services sur mesure<br>Prestations adapt√©es, Solutions personnalis√©es, Cr√©ations exclusives (sur commande).</td><td></td></tr>
      <tr><td>24</td><td>Adresse</td><td></td></tr>
      <tr><td>25</td><td>T√©l√©phone</td><td></td></tr>
      <tr><td>26</td><td>R√©seaux Sociaux</td><td></td></tr>
      <tr><td>27</td><td>¬© Mon Commerce Sp√©cialis√© ‚Äî Tous droits r√©serv√©s ‚Äî Site d√©velopp√© avec ‚ù§Ô∏è</td><td></td></tr>

      <tr><td></td><td>Ci-dessous la partie SEO / R√©f√©rencement<br>Les m√©tadonn√©es SEO (titre, description, etc.) sont int√©gr√©es dans le code HTML sans appara√Ætre visuellement sur la page, mais elles sont d√©terminantes pour le r√©f√©rencement ‚Üí Choisissez bien !</td><td></td></tr>
      <tr><td>28</td><td>Titre de la page : clart√© avant tout : le titre doit dire imm√©diatement de quoi parle la page. 60 caract√®res max. Inclure votre mot-cl√© principal.</td><td></td></tr>
      <tr><td>29</td><td>Description concise de votre page, riche en mots-cl√©s (environ 160 caract√®res).</td><td></td></tr>
      <tr><td>30</td><td>Mots-cl√©s : 5 √† 10 mots-cl√©s repr√©sentatifs de votre activit√© (r√©p√©ter les m√™mes mots-cl√©s que dans la description n'est pas un probl√®me, cela renforce l‚Äôessence de la page).</td><td></td></tr>
      <tr><td>31</td><td>Nom commercial de l'entreprise</td><td></td></tr>
    </tbody>
  </table>
</div>
      
  <!-- ===== DOWNLOAD BUTTON ===== -->
<div style="display:flex; justify-content:center; margin:10px 0;">
  <button id="downloadTable" style="padding:8px 14px; border-radius:6px; background:green; color:white; border:none; cursor:pointer; font-weight:600;">
    T√©l√©chargez la Table
  </button>
</div>

<p>Envoyez la table compl√©t√©e ici:
  <a href="mailto:didier08018@gmail.com"><span id="email-text">didier08018@gmail.com</span></a>
  <i class="fa-regular fa-clone" id="copy-icon" style="cursor: pointer; margin-left: 8px;" title="Copy to clipboard"></i>
  <span id="copied-popup" style="display:none; margin-left: 10px; color: green; font-size: 0.8rem;">Copi√© !</span>
</p>

    </div>

  <div class="card">
       <h2>M√©thode 2</h2>
    <p>Remplissez le formulaire en ligne</p>
</div>

 <div class="cardt">
       <h2>Formulaire en ligne</h2>
   <form action="https://formspree.io/f/myznpaqg" method="POST">
    <div class="form-group">
        <label for="Mon_Commerce">Mon Commerce</label>
        <input type="text" id="Mon_Commerce" name="Mon Commerce" placeholder="Votre personnalisation ici" required>
    </div>

    <div class="form-group">
        <label for="Ma_Sp√©cialit√©_‚Äî_Toulouse">Ma Sp√©cialit√© ‚Äî Toulouse</label>
        <input type="text" id="Ma_Sp√©cialit√©_‚Äî_Toulouse" name="Ma Sp√©cialit√© ‚Äî Toulouse" placeholder="Votre personnalisation ici" required>
    </div>

    <div class="form-group">
        <label for="Photo_1">Photo 1</label>
        <input type="text" id="Photo_1" name="Photo 1" placeholder="Votre personnalisation ici" required>
    </div>

    <div class="form-group">
        <label for="Produits">Produits et services de qualit√©, con√ßus avec passion et savoir-faire ‚Äî votre satisfaction au c≈ìur de notre engagement...</label>
        <input type="text" id="Produits" name="Produits et services de qualit√©..." placeholder="Votre personnalisation ici" required>
    </div>

    <div class="form-group">
        <label for="Description_concise">Description concise de votre page, riche en mots-cl√©s (environ 160 caract√®res).</label>
        <input type="text" id="Description_concise" name="Description concise de votre page" placeholder="Votre personnalisation ici" required>
    </div>

    <div class="form-group">
        <label for="Mots_cles">Mots-cl√©s : 5 √† 10 mots-cl√©s repr√©sentatifs de votre activit√©.</label>
        <input type="text" id="Mots_cles" name="Mots-cl√©s" placeholder="Votre personnalisation ici" required>
    </div>

    <div class="form-group">
        <label for="Nom_commercial">Nom commercial de l'entreprise</label>
        <input type="text" id="Nom_commercial" name="Nom commercial de l'entreprise" placeholder="Votre personnalisation ici" required>
    </div>

    <button type="submit">Envoyer</button>
</form>
 </div>

 <div class="card">
       <h2>Photos</h2>
<p>Envoyez vos 5 photos:
  <a href="mailto:didier08018@gmail.com"><span id="email-text-2">didier08018@gmail.com</span></a>
  <i class="fa-regular fa-clone" id="copy-icon-2" style="cursor: pointer; margin-left: 8px;" title="Copy to clipboard"></i>
  <span id="copied-popup-2" style="display:none; margin-left: 10px; color: green; font-size: 0.8rem;">Copi√© !</span>
</p>
</div>

<div class="card">
  <h2>Facultatif</h2>
  <h3>Option Photographe</h3>
  <p style="text-align: left;">- Si vous prenez l'option photographe, les 50‚Ç¨ sont d√ªs au photographe √† la fin de la session photo</p>
  <p style="text-align: left;">- Contactez-moi pour un rendez-vous (e-mail ou t√©l. 07 45 18 65 79)</p>
</div>
    
<div class="card">
  <h2>Bravo et Merci !</h2>
  <p>Votre travail est termin√© !</p>
  <h3>Et avant de partir :</h3>
  <p>"Plus je travaille, plus j‚Äôai de chance.‚Äù</p>
  <p><strong>- Thomas Jefferson</strong></p> 
</div>

<div class="card">
  <p><a href="index.html" style="text-decoration: none;">üíú</a></p>
</div>
  </div>

<script>
/* ===== DOWNLOAD BUTTON (unchanged) ===== */
document.getElementById('downloadTable').addEventListener('click', function() {
  const table = document.getElementById('customTable');
  let csv = [];
  for (let row of table.rows) {
    let cols = [];
    for (let cell of row.cells) {
      // Escape quotes
      let text = cell.innerText.replace(/"/g,'""');
      cols.push(`"${text}"`);
    }
    csv.push(cols.join(','));
  }
  const blob = new Blob([csv.join("\n")], { type: 'text/csv;charset=utf-8;' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'tableau_personnalisation.csv';
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  URL.revokeObjectURL(url);
});
</script>

<script>
  // ---------- CONTACT EMAIL COPY ----------
  const copyIcon = document.getElementById("copy-icon");
  const emailText = document.getElementById("email-text")?.innerText || '';
  const copiedPopup = document.getElementById("copied-popup");

  if (copyIcon) {
    copyIcon.addEventListener("click", () => {
      navigator.clipboard.writeText(emailText).then(() => {
        copiedPopup.style.display = "inline";
        setTimeout(() => { copiedPopup.style.display = "none"; }, 2000);
      }).catch(err => console.error("√âchec de la copie :", err));
    });
  }

  // optional extra copy handlers (Photos section)
  const copyIcon2 = document.getElementById("copy-icon-2");
  const emailText2 = document.getElementById("email-text-2")?.innerText || '';
  const copiedPopup2 = document.getElementById("copied-popup-2");
  if (copyIcon2) {
    copyIcon2.addEventListener("click", () => {
      navigator.clipboard.writeText(emailText2).then(() => {
        copiedPopup2.style.display = "inline";
        setTimeout(() => { copiedPopup2.style.display = "none"; }, 2000);
      }).catch(err => console.error("√âchec de la copie :", err));
    });
  }
</script>

<script>
  // form submit via fetch (keeps your behavior)
  var form = document.querySelector('form');
  if (form) {
    form.onsubmit = function(e) {
      e.preventDefault();
      fetch(form.action, {
        method: 'POST',
        body: new FormData(form),
      })
      .then(response => {
        alert('Message sent successfully!');
        form.reset();
      })
      .catch(error => {
        alert('Error sending message. Please try again.');
      });
    };
  }
</script>

<script>
/* ===== TABLE POST-PROCESS: convert <br> to comma, renumber rows skipping blank-number rows ===== */
document.addEventListener('DOMContentLoaded', function () {
  const table = document.getElementById('customTable');
  if (!table) return;

  // convert <br> to comma + space for readability (keeps everything on one line)
  table.querySelectorAll('td').forEach(td => {
    if (td.innerHTML.includes('<br')) {
      td.innerHTML = td.innerHTML.replace(/<br\s*\/?>/gi, ', ');
      // trim repeated commas/spaces
      td.innerHTML = td.innerHTML.replace(/\s*,\s*,/g, ',').replace(/^\s*,\s*/,'').replace(/\s+$/,'');
    }
  });

  // RENUMBEr: sequential numbers for rows that currently have a number; skip rows that have an empty first cell
  const tbody = table.tBodies[0];
  if (!tbody) return;

  let counter = 1;
  for (let i = 0; i < tbody.rows.length; i++) {
    const row = tbody.rows[i];
    const firstCell = row.cells[0];
    if (!firstCell) continue;

    const raw = firstCell.innerText || firstCell.textContent || '';
    if (raw.trim() === '') {
      // leave blank and do not increment the counter
      firstCell.textContent = '';
    } else {
      // assign sequential number (overwrites existing values)
      firstCell.textContent = counter;
      counter++;
    }
  }

  // ensure first data-row first cell stays centered (we also have CSS for that)
  // no additional JS needed, CSS rule handles it
});
</script>

</body>
</html>
